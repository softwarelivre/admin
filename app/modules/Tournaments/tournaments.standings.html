<h2 class="page-header">Classificação do torneio</h2>

<ol class="breadcrumb">
  <li><a href="#">Home</a></li>
  <li><a ui-sref="tournaments.list">Torneios</a></li>
  <li class="active">Classificação</li>
</ol>

<form class="form">

  <div class="row">

      <div class="col-sm-4">
        <div class="form-group">
          <label>Tipo:</label>
            <select
                class="form-control"
                ng-options="key as value for (key,value) in types"
                ng-model="proposal_type">
              <option value="">Selecione uma opção</option>
            </select>
        </div>
      </div>

    <div class="form-group col-sm-4">
      <label>Trilha:</label>
       <select id="zone"
               ng-model="selectedZone"
               ng-options="key for (key , value) in tracksByZone"
               ng-change="onZoneChange()"
               class="form-control">
           <option value="" selected="selected">Selecione uma opção</option>
       </select>
    </div>

    <div class="form-group col-sm-4">
       <label>Área:</label>
       <select id="track"
               ng-model="proposal_track"
               ng-options="track as track.area for track in selectedZone"
               class="form-control">
           <option value="" selected="selected">Selecione uma opção</option>
       </select>
    </div>
  </div>
  
</form>

<hr>

<table class="table table-condensed table-striped">
  <tr>
    <th translate>Posição Geral</th>
    <th translate>Posição</th>
    <th translate>P</th>
    <th translate>V</th>
    <th translate>E</th>
    <th translate>D</th>
    <th translate>Proposta</th>
    <th translate>Autor</th>
    <th translate>Tema - trilha</th>
  </tr>
  <tr ng-repeat="player in getStandings()">
    <td>{{ player.position }}</td>
    <td>{{ $index+1 }}º</td>
    <td class="bg-info">{{ player.points }}</td>
    <td class="bg-success">{{ player.victories }}</td>
    <td class="bg-warning">{{ player.ties }}</td>
    <td class="bg-danger">{{ player.defeats }}</td>
    <td>
      <a ui-sref="proposals.detail({id: player.id})" target="blank_">
        <span class="title">{{ player.title }}</span>
      </a>
    </td>
    <td>{{ player.author }}</td>
    <td>
      <span>{{ player.zone }} {{ player.area }}</span>
    </td>
  </tr>
</table>
